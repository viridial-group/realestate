<template>
  <div class="max-w-6xl mx-auto py-8 px-4">
    <!-- Breadcrumbs -->
    <nav class="mb-6" aria-label="Breadcrumb">
      <ol class="flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400">
        <li><router-link to="/" class="hover:text-gray-900 dark:hover:text-white">Accueil</router-link></li>
        <li><span aria-hidden="true">/</span></li>
        <li class="text-gray-900 dark:text-white font-medium">Guide d'achat</li>
      </ol>
    </nav>

    <header class="mb-12 text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4">
        Guide complet pour acheter un bien immobilier
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
        Toutes les √©tapes et conseils pour r√©ussir votre achat immobilier en France
      </p>
    </header>

    <!-- Table des mati√®res -->
    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-12">
      <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Table des mati√®res</h2>
      <nav class="space-y-2">
        <a
          v-for="section in sections"
          :key="section.id"
          :href="`#${section.id}`"
          class="block text-blue-600 dark:text-blue-400 hover:underline"
        >
          {{ section.title }}
        </a>
      </nav>
    </div>

    <!-- Contenu du guide -->
    <div class="space-y-12">
      <!-- √âtape 1 : Pr√©parer son projet -->
      <section :id="sections[0].id" class="scroll-mt-20">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8">
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-6">
            {{ sections[0].title }}
          </h2>
          <div class="prose prose-lg max-w-none dark:prose-invert">
            <h3 class="text-xl font-semibold mb-4">1. D√©finir son budget</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Avant de commencer vos recherches, il est essentiel de d√©terminer votre budget r√©el. 
              Prenez en compte :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Vos revenus et ceux de votre co-emprunteur</li>
              <li>Vos charges mensuelles existantes</li>
              <li>Votre apport personnel (id√©alement 10-20% du prix d'achat)</li>
              <li>Les frais de notaire (7-8% pour l'ancien, 2-3% pour le neuf)</li>
              <li>Les frais d'agence (si applicable)</li>
              <li>Les travaux √©ventuels</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">2. Obtenir un accord de principe</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Un accord de principe bancaire valide votre capacit√© d'emprunt et renforce votre position 
              lors des n√©gociations. Il est g√©n√©ralement valable 2 √† 4 mois.
            </p>

            <h3 class="text-xl font-semibold mb-4">3. Choisir la localisation</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              La localisation est un crit√®re essentiel. Consid√©rez :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
              <li>La proximit√© de votre lieu de travail</li>
              <li>Les transports en commun</li>
              <li>Les √©coles et commerces √† proximit√©</li>
              <li>L'√©volution du quartier</li>
              <li>Les donn√©es de march√© (prix au m¬≤, √©volution)</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- √âtape 2 : Rechercher un bien -->
      <section :id="sections[1].id" class="scroll-mt-20">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8">
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-6">
            {{ sections[1].title }}
          </h2>
          <div class="prose prose-lg max-w-none dark:prose-invert">
            <h3 class="text-xl font-semibold mb-4">1. Utiliser les outils de recherche</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Sur Viridial, utilisez nos filtres avanc√©s pour affiner votre recherche :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Filtres par prix, surface, nombre de pi√®ces</li>
              <li>Recherche par localisation (carte interactive)</li>
              <li>Type de bien (appartement, maison, villa, etc.)</li>
              <li>Crit√®res sp√©cifiques (balcon, parking, ascenseur, etc.)</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">2. Analyser les donn√©es de march√©</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Consultez les donn√©es DVF (Demandes de Valeurs Fonci√®res) pour chaque bien :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Prix moyen au m¬≤ dans la zone</li>
              <li>√âvolution des prix sur les 2 derni√®res ann√©es</li>
              <li>Comparaison avec le march√©</li>
              <li>Transactions similaires r√©centes</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">3. Cr√©er des alertes</h3>
            <p class="text-gray-700 dark:text-gray-300">
              Configurez des alertes personnalis√©es pour √™tre notifi√© d√®s qu'un bien correspondant 
              √† vos crit√®res est publi√©.
            </p>
          </div>
        </div>
      </section>

      <!-- √âtape 3 : Visiter et n√©gocier -->
      <section :id="sections[2].id" class="scroll-mt-20">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8">
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-6">
            {{ sections[2].title }}
          </h2>
          <div class="prose prose-lg max-w-none dark:prose-invert">
            <h3 class="text-xl font-semibold mb-4">1. Organiser les visites</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              R√©servez vos visites directement sur Viridial. Pr√©parez une liste de questions :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>√âtat g√©n√©ral du bien et travaux n√©cessaires</li>
              <li>Charges de copropri√©t√© (pour appartement)</li>
              <li>R√®gles de copropri√©t√© (animaux, travaux, etc.)</li>
              <li>Historique des prix et dur√©e de mise en vente</li>
              <li>Raisons de la vente</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">2. N√©gocier le prix</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              La n√©gociation est possible, surtout si :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Le bien est sur le march√© depuis plusieurs mois</li>
              <li>Des travaux sont n√©cessaires</li>
              <li>Le prix est au-dessus du march√© (v√©rifiez avec les donn√©es DVF)</li>
              <li>Vous avez un financement solide</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">3. Faire une offre</h3>
            <p class="text-gray-700 dark:text-gray-300">
              Une fois d√©cid√©, faites une offre √©crite avec conditions suspensives 
              (obtention du pr√™t, diagnostic technique, etc.).
            </p>
          </div>
        </div>
      </section>

      <!-- √âtape 4 : Finaliser l'achat -->
      <section :id="sections[3].id" class="scroll-mt-20">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8">
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-6">
            {{ sections[3].title }}
          </h2>
          <div class="prose prose-lg max-w-none dark:prose-invert">
            <h3 class="text-xl font-semibold mb-4">1. Signer le compromis de vente</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Le compromis engage les deux parties. Il doit inclure :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Le prix de vente</li>
              <li>Les conditions suspensives</li>
              <li>La date de signature d√©finitive</li>
              <li>Les modalit√©s de paiement</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">2. R√©aliser les diagnostics</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Le vendeur doit fournir plusieurs diagnostics obligatoires :
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 mb-6">
              <li>Diagnostic de performance √©nerg√©tique (DPE)</li>
              <li>Diagnostic plomb, amiante, termites</li>
              <li>√âtat des risques naturels et technologiques (ERNMT)</li>
              <li>Diagnostic √©lectricit√© et gaz (si applicable)</li>
            </ul>

            <h3 class="text-xl font-semibold mb-4">3. Finaliser le pr√™t</h3>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              Votre banque va √©tudier votre dossier et valider le pr√™t. 
              Une fois l'offre de pr√™t re√ßue, vous avez 10 jours pour l'accepter.
            </p>

            <h3 class="text-xl font-semibold mb-4">4. Signer l'acte de vente</h3>
            <p class="text-gray-700 dark:text-gray-300">
              L'acte de vente est sign√© chez le notaire. Vous devenez propri√©taire 
              et recevez les cl√©s du bien.
            </p>
          </div>
        </div>
      </section>

      <!-- Conseils suppl√©mentaires -->
      <section class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-8">
        <h2 class="text-3xl font-semibold text-gray-900 dark:text-white mb-6">
          üí° Conseils suppl√©mentaires
        </h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">
              ‚è±Ô∏è Prenez votre temps
            </h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Ne vous pr√©cipitez pas. Visitez plusieurs biens, comparez les prix avec les donn√©es de march√©, 
              et n'h√©sitez pas √† n√©gocier.
            </p>
          </div>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">
              üìã Faites-vous accompagner
            </h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Un notaire, un courtier ou un agent immobilier peut vous guider dans les d√©marches 
              et vous √©viter des erreurs co√ªteuses.
            </p>
          </div>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">
              üîç V√©rifiez tout
            </h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              V√©rifiez les diagnostics, l'√©tat du bien, les charges, les r√®gles de copropri√©t√©. 
              Un bien qui semble trop beau pour √™tre vrai m√©rite une attention particuli√®re.
            </p>
          </div>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">
              üí∞ Pr√©voyez une marge
            </h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Pr√©voyez toujours une marge de s√©curit√© pour les impr√©vus : travaux, frais suppl√©mentaires, 
              ou baisse de revenus.
            </p>
          </div>
        </div>
      </section>
    </div>

    <!-- CTA -->
    <div class="mt-12 bg-blue-600 rounded-lg shadow-lg p-8 text-center text-white">
      <h2 class="text-2xl font-semibold mb-4">Pr√™t √† commencer votre recherche ?</h2>
      <p class="mb-6 text-blue-100">
        Utilisez nos outils de recherche avanc√©s et les donn√©es de march√© pour trouver votre bien id√©al.
      </p>
      <router-link
        to="/search"
        class="inline-block px-6 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors"
      >
        Commencer la recherche
      </router-link>
    </div>
  </div>
</template>

<script setup lang="ts">
import { onMounted } from 'vue'
import { useSEO } from '@/composables/useSEO'

const siteUrl = typeof window !== 'undefined' ? window.location.origin : 'http://viridial.com'

const sections = [
  { id: 'preparer-projet', title: '√âtape 1 : Pr√©parer son projet' },
  { id: 'rechercher-bien', title: '√âtape 2 : Rechercher un bien' },
  { id: 'visiter-negocier', title: '√âtape 3 : Visiter et n√©gocier' },
  { id: 'finaliser-achat', title: '√âtape 4 : Finaliser l\'achat' }
]

onMounted(() => {
  // SEO optimis√© pour la page Guide d'achat
  useSEO({
    title: 'Guide d\'achat immobilier - Comment acheter un bien en France | Viridial',
    description: 'Guide complet pour acheter un bien immobilier en France : pr√©parer son projet, rechercher un bien, n√©gocier, finaliser l\'achat. Conseils pratiques et √©tapes d√©taill√©es.',
    keywords: ['guide achat immobilier', 'acheter appartement', 'acheter maison', 'achat immobilier France', 'conseils achat immobilier', '√©tapes achat immobilier'],
    type: 'article',
    canonical: `${siteUrl}/guide-achat`,
    url: `${siteUrl}/guide-achat`,
    article: {
      publishedTime: '2024-01-01T00:00:00Z',
      modifiedTime: new Date().toISOString(),
      author: 'Viridial',
      section: 'Guide',
      tags: ['immobilier', 'achat', 'guide', 'conseils']
    }
  })
})
</script>

